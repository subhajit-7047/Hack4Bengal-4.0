<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MindCare | AI-Powered Mental Health Assessment</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
      :root {
        --primary: #5b8cff;
        --primary-dark: #3a6ff0;
        --secondary: #8e44ad;
        --accent: #00cec9;
        --light: #f8f9fa;
        --dark: #2d3436;
        --gray: #636e72;
        --success: #00b894;
        --warning: #fdcb6e;
        --danger: #d63031;
        --card-bg: rgba(255, 255, 255, 0.9);
        --glass-bg: rgba(255, 255, 255, 0.15);
        --glass-border: rgba(255, 255, 255, 0.2);
        --text-light: #f5f6fa;
        --gradient-primary: linear-gradient(135deg, #5b8cff 0%, #8e44ad 100%);
        --gradient-accent: linear-gradient(135deg, #00cec9 0%, #0984e3 100%);
        --gradient-warning: linear-gradient(135deg, #fdcb6e 0%, #e84393 100%);
        --gradient-danger: linear-gradient(135deg, #d63031 0%, #e84393 100%);
      }

      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
        font-family: "Poppins", -apple-system, BlinkMacSystemFont, "Segoe UI",
          Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
      }

      @font-face {
        font-family: "Poppins";
        font-style: normal;
        font-weight: 400;
        src: url(https://fonts.gstatic.com/s/poppins/v20/pxiEyp8kv8JHgFVrJJfedw.ttf)
          format("truetype");
      }

      @font-face {
        font-family: "Poppins";
        font-style: normal;
        font-weight: 600;
        src: url(https://fonts.gstatic.com/s/poppins/v20/pxiByp8kv8JHgFVrLEj6Z1xlEA.ttf)
          format("truetype");
      }

      body {
        background: var(--gradient-primary);
        background-attachment: fixed;
        color: var(--dark);
        line-height: 1.6;
        min-height: 100vh;
        padding-bottom: 40px;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
      }

      header {
        background: var(--glass-bg);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        border-bottom: 1px solid var(--glass-border);
        color: var(--text-light);
        padding: 25px 0;
        text-align: center;
        position: relative;
        overflow: hidden;
      }

      header::before {
        content: "";
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: var(--gradient-primary);
        z-index: -1;
        opacity: 0.8;
        animation: rotate 20s linear infinite;
      }

      @keyframes rotate {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }

      h1 {
        margin-bottom: 10px;
        font-size: 2.5rem;
        font-weight: 600;
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }

      .tagline {
        font-size: 1.1rem;
        opacity: 0.9;
        max-width: 600px;
        margin: 0 auto;
      }

      .assessment-flow {
        display: flex;
        justify-content: center;
        margin: 40px 0;
      }

      .flow-steps {
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .flow-step {
        display: flex;
        flex-direction: column;
        align-items: center;
        position: relative;
      }

      .step-number {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        background: var(--glass-bg);
        color: var(--text-light);
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 600;
        margin-bottom: 8px;
        border: 2px solid var(--glass-border);
        transition: all 0.3s;
      }

      .step-number.active {
        background: var(--accent);
        color: white;
        transform: scale(1.1);
      }

      .step-number.completed {
        background: var(--success);
        color: white;
      }

      .step-label {
        color: var(--text-light);
        font-size: 0.9rem;
        text-align: center;
        max-width: 100px;
      }

      .step-connector {
        width: 60px;
        height: 2px;
        background: var(--glass-border);
        position: relative;
      }

      .step-connector::after {
        content: "";
        position: absolute;
        left: 0;
        top: 0;
        height: 100%;
        width: 0;
        background: var(--accent);
        transition: width 0.5s ease;
      }

      .step-connector.active::after {
        width: 100%;
      }

      .step-connector.completed::after {
        width: 100%;
        background: var(--success);
      }

      .main-content {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        align-items: center;
        gap: 20px;
        margin-top: 20px;
        min-height: 100vh;
      }

      .card {
        flex: 1 1 calc(33.333% - 40px);
        max-width: 1000px;
        min-width: 300px;
        margin: 20px;
        background: white;
        border-radius: 12px;
        padding: 20px;
        box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
        transition: all 0.3s ease;
        border: 1px solid rgba(0, 0, 0, 0.1);
      }
      
      @media (max-width: 768px) {
        .card {
          flex: 1 1 calc(50% - 40px);
        }
      }

      @media (max-width: 480px) {
        .card {
          flex: 1 1 100%;
        }
      }
      
      .card::after {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 5px;
        background: var(--gradient-accent);
      }

      .card:hover {
        transform: translateY(-5px);
        box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
      }

      .card h2 {
        color: var(--primary-dark);
        margin-bottom: 20px;
        padding-bottom: 15px;
        border-bottom: 2px solid rgba(0, 0, 0, 0.1);
        font-size: 1.8rem;
        font-weight: 600;
        display: flex;
        align-items: center;
      }

      .card h2 i {
        margin-right: 12px;
        color: var(--accent);
      }

      .assessment-intro {
        text-align: center;
        margin-bottom: 30px;
      }

      .assessment-intro img {
        width: 150px;
        margin-bottom: 20px;
      }

      .assessment-intro h3 {
        color: var(--primary-dark);
        margin-bottom: 15px;
      }

      .assessment-intro p {
        color: var(--gray);
        margin-bottom: 20px;
      }

      .condition-selector {
        margin-bottom: 30px;
      }

      .condition-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
        gap: 15px;
        margin-top: 20px;
      }

      .condition-card {
        background: white;
        border-radius: 10px;
        padding: 15px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        transition: all 0.3s;
        text-align: center;
        cursor: pointer;
        border: 2px solid transparent;
      }

      .condition-card:hover {
        transform: translateY(-3px);
        box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
      }

      .condition-card.selected {
        border-color: var(--accent);
        background: rgba(0, 206, 201, 0.1);
      }

      .condition-card i {
        font-size: 2rem;
        color: var(--secondary);
        margin-bottom: 10px;
      }

      .condition-card h4 {
        color: var(--primary-dark);
        margin-bottom: 5px;
      }

      .question-form {
        margin-top: 20px;
      }

      .question-container {
        background: white;
        border-radius: 10px;
        padding: 20px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        margin-bottom: 20px;
      }

      .question-text {
        font-size: 1.2rem;
        margin-bottom: 20px;
        color: var(--dark);
      }

      .options-container {
        display: grid;
        gap: 12px;
      }

      .option-item {
        display: flex;
        align-items: center;
        padding: 12px 15px;
        background: rgba(248, 249, 250, 0.7);
        border-radius: 8px;
        cursor: pointer;
        transition: all 0.2s;
        border: 1px solid rgba(0, 0, 0, 0.1);
      }

      .option-item:hover {
        background: rgba(0, 206, 201, 0.1);
        border-color: var(--accent);
      }

      .option-item.selected {
        background: rgba(0, 206, 201, 0.2);
        border-color: var(--accent);
        box-shadow: 0 0 0 2px rgba(0, 206, 201, 0.3);
      }

      .option-item input {
        margin-right: 10px;
      }

      .progress-container {
        margin: 20px 0;
      }

      .progress-text {
        display: flex;
        justify-content: space-between;
        margin-bottom: 8px;
        font-size: 0.9rem;
        color: var(--gray);
      }

      .progress-bar {
        height: 8px;
        background: rgba(0, 0, 0, 0.1);
        border-radius: 4px;
        overflow: hidden;
      }

      .progress-fill {
        height: 100%;
        background: var(--gradient-accent);
        width: 0%;
        transition: width 0.5s ease;
      }

      .assessment-nav {
        display: flex;
        justify-content: space-between;
        margin-top: 20px;
      }

      .btn {
        background: var(--gradient-accent);
        color: white;
        border: none;
        padding: 12px 24px;
        border-radius: 8px;
        cursor: pointer;
        font-size: 16px;
        font-weight: 500;
        transition: all 0.3s;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      }

      .btn i {
        margin-right: 8px;
      }

      .btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
      }

      .btn:active {
        transform: translateY(0);
      }

      .btn-outline {
        background: transparent;
        border: 2px solid var(--accent);
        color: var(--accent);
      }

      .btn-outline:hover {
        background: rgba(0, 206, 201, 0.1);
      }

      .btn-disabled {
        opacity: 0.5;
        cursor: not-allowed;
        background: var(--gray);
      }

      .results-container {
        animation: fadeIn 0.5s ease-out;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .risk-level {
        text-align: center;
        padding: 20px;
        border-radius: 10px;
        margin: 20px 0;
        color: white;
        font-weight: 600;
      }

      .risk-low {
        background: var(--success);
      }

      .risk-moderate {
        background: var(--warning);
      }

      .risk-high {
        background: var(--danger);
      }

      .chart-container {
        margin: 30px 0;
        position: relative;
        height: 300px;
      }

      .results-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
        gap: 20px;
        margin: 30px 0;
      }

      .result-card {
        background: white;
        border-radius: 10px;
        padding: 20px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        border-top: 4px solid var(--accent);
      }

      .result-card h4 {
        color: var(--primary-dark);
        margin-bottom: 10px;
        display: flex;
        align-items: center;
      }

      .result-card h4 i {
        margin-right: 10px;
        color: var(--accent);
      }
      
      #resultsCard {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        margin: 0 auto;
        min-height: 100vh;
        text-align: center;
        background: white;
        border-radius: 12px;
        padding: 20px;
        box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
      }
      
      .doctor-list {
        margin-top: 25px;
        display: grid;
        gap: 15px;
      }

      .doctor-card {
        background: white;
        border-radius: 10px;
        padding: 20px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        transition: all 0.3s;
        border-left: 4px solid var(--success);
        display: flex;
        flex-direction: column;
      }

      .doctor-card:hover {
        transform: translateY(-3px);
        box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
      }

      .doctor-card h4 {
        color: var(--primary-dark);
        margin-bottom: 8px;
        font-size: 1.2rem;
      }

      .doctor-card p {
        margin-bottom: 6px;
        font-size: 0.9rem;
        color: var(--gray);
      }

      .doctor-card .specialty {
        color: var(--secondary);
        font-weight: 500;
        margin: 8px 0;
      }

      .doctor-card .distance {
        color: var(--gray);
        font-style: italic;
        font-size: 0.85rem;
      }

      .doctor-card .availability {
        margin-top: 10px;
        padding-top: 10px;
        border-top: 1px dashed rgba(0, 0, 0, 0.1);
        display: flex;
        align-items: center;
      }

      .emergency-section {
        background: rgba(253, 203, 110, 0.2);
        border-left: 4px solid var(--warning);
        padding: 20px;
        margin-top: 25px;
        border-radius: 8px;
        animation: pulseWarning 2s infinite;
      }

      @keyframes pulseWarning {
        0% {
          box-shadow: 0 0 0 0 rgba(253, 203, 110, 0.4);
        }
        70% {
          box-shadow: 0 0 0 10px rgba(253, 203, 110, 0);
        }
        100% {
          box-shadow: 0 0 0 0 rgba(253, 203, 110, 0);
        }
      }

      .emergency-section h3 {
        color: var(--danger);
        margin-bottom: 10px;
        display: flex;
        align-items: center;
      }

      .emergency-section h3 i {
        margin-right: 10px;
      }

      .emergency-btn {
        background: var(--danger);
        background: linear-gradient(135deg, var(--danger) 0%, #e84393 100%);
        margin-top: 15px;
      }

      .emergency-contacts {
        background: white;
        border-radius: 8px;
        padding: 15px;
        margin-top: 15px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
      }

      .emergency-contacts p {
        margin-bottom: 10px;
        padding-bottom: 10px;
        border-bottom: 1px solid rgba(0, 0, 0, 0.05);
      }

      .emergency-contacts p:last-child {
        margin-bottom: 0;
        padding-bottom: 0;
        border-bottom: none;
      }

      .emergency-contacts strong {
        color: var(--danger);
      }

      .loading {
        display: none;
        text-align: center;
        margin: 20px 0;
        flex-direction: column;
        align-items: center;
      }

      .loading-spinner {
        border: 4px solid rgba(0, 0, 0, 0.1);
        border-radius: 50%;
        border-top: 4px solid var(--accent);
        width: 40px;
        height: 40px;
        animation: spin 1s linear infinite;
        margin-bottom: 15px;
      }

      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }

      .self-care-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
        gap: 15px;
        margin-top: 20px;
      }

      .self-care-card {
        background: white;
        border-radius: 8px;
        padding: 15px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        transition: all 0.3s;
        border-top: 3px solid var(--accent);
        text-align: center;
      }

      .self-care-card:hover {
        transform: translateY(-3px);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
      }

      .self-care-card i {
        font-size: 1.5rem;
        color: var(--accent);
        margin-bottom: 10px;
      }

      .self-care-card h4 {
        color: var(--primary-dark);
        margin-bottom: 8px;
        font-size: 1rem;
      }

      footer {
        text-align: center;
        margin-top: 60px;
        padding: 25px;
        color: var(--text-light);
        font-size: 0.9rem;
        background: rgba(0, 0, 0, 0.1);
        border-radius: 16px;
        backdrop-filter: blur(5px);
        max-width: 1200px;
        margin-left: auto;
        margin-right: auto;
      }

      .footer-links {
        display: flex;
        justify-content: center;
        gap: 20px;
        margin-top: 15px;
      }

      .footer-links a {
        color: var(--text-light);
        text-decoration: none;
        transition: all 0.3s;
      }

      .footer-links a:hover {
        color: var(--accent);
        text-decoration: underline;
      }

      /* Floating animation for decorative elements */
      .floating {
        animation: floating 3s ease-in-out infinite;
      }

      @keyframes floating {
        0% {
          transform: translateY(0px);
        }
        50% {
          transform: translateY(-10px);
        }
        100% {
          transform: translateY(0px);
        }
      }

      /* Responsive adjustments */
      @media (max-width: 768px) {
        h1 {
          font-size: 2rem;
        }

        .card {
          padding: 20px;
        }

        .condition-grid,
        .self-care-grid {
          grid-template-columns: 1fr 1fr;
        }

        .results-grid {
          grid-template-columns: 1fr;
        }

        .flow-steps {
          gap: 5px;
        }

        .step-connector {
          width: 30px;
        }

        .step-label {
          font-size: 0.8rem;
        }
      }

      @media (max-width: 480px) {
        .condition-grid,
        .self-care-grid {
          grid-template-columns: 1fr;
        }

        .flow-steps {
          gap: 2px;
        }

        .step-connector {
          width: 15px;
        }

        .step-label {
          font-size: 0.7rem;
        }
      }
    </style>
  </head>
  <body>
    <header>
      <div class="container">
        <h1><i class="fas fa-brain"></i> MindCare</h1>
        <p class="tagline">
          AI-powered mental health assessment with personalized insights and
          professional support
        </p>
      </div>
    </header>

    <div class="container">
      <!-- Assessment Flow Steps -->
      <div class="assessment-flow">
        <div class="flow-steps">
          <div class="flow-step">
            <div class="step-number active" id="step1">1</div>
            <div class="step-label">Select Condition</div>
          </div>
          <div class="step-connector" id="connector1"></div>
          <div class="flow-step">
            <div class="step-number" id="step2">2</div>
            <div class="step-label">Answer Questions</div>
          </div>
          <div class="step-connector" id="connector2"></div>
          <div class="flow-step">
            <div class="step-number" id="step3">3</div>
            <div class="step-label">Get Results</div>
          </div>
          <div class="step-connector" id="connector3"></div>
          <div class="flow-step">
            <div class="step-number" id="step4">4</div>
            <div class="step-label">Find Help</div>
          </div>
        </div>
      </div>

      <div class="main-content">
        <!-- Condition Selection Card -->
        <div class="card" id="conditionSelectionCard">
          <h2><i class="fas fa-search"></i> Assess Your Mental Health</h2>

          <div class="assessment-intro">
            <i
              class="fas fa-heartbeat"
              style="font-size: 3rem; color: var(--accent)"
            ></i>
            <h3>Let's Begin Your Assessment</h3>
            <p>
              Select the mental health condition you'd like to assess. Our
              AI-powered system will ask you relevant questions and provide a
              personalized risk assessment.
            </p>
          </div>

          <div class="condition-selector">
            <h3>Select a condition to assess:</h3>
            <div class="condition-grid" id="conditionGrid">
              <div class="condition-card" data-condition="depression">
                <i class="fas fa-cloud"></i>
                <h4>Depression</h4>
                <p>Persistent sadness, loss of interest</p>
              </div>
              <div class="condition-card" data-condition="anxiety">
                <i class="fas fa-wind"></i>
                <h4>Anxiety</h4>
                <p>Excessive worry, nervousness</p>
              </div>
              <div class="condition-card" data-condition="ocd">
                <i class="fas fa-retweet"></i>
                <h4>OCD</h4>
                <p>Obsessions and compulsions</p>
              </div>
              <div class="condition-card" data-condition="ptsd">
                <i class="fas fa-trauma"></i>
                <h4>PTSD</h4>
                <p>Post-traumatic stress</p>
              </div>
              <div class="condition-card" data-condition="bipolar">
                <i class="fas fa-adjust"></i>
                <h4>Bipolar</h4>
                <p>Mood swings between highs and lows</p>
              </div>
              <div class="condition-card" data-condition="insomnia">
                <i class="fas fa-moon"></i>
                <h4>Insomnia</h4>
                <p>Chronic sleep difficulties</p>
              </div>
              <div class="condition-card" data-condition="adhd">
                <i class="fas fa-bolt"></i>
                <h4>ADHD</h4>
                <p>Attention and hyperactivity</p>
              </div>
              <div class="condition-card" data-condition="autism">
                <i class="fas fa-puzzle-piece"></i>
                <h4>Autism</h4>
                <p>Social communication challenges</p>
              </div>
            </div>
          </div>

          <div style="text-align: center; margin-top: 30px">
            <button class="btn" id="startAssessmentBtn" disabled>
              <i class="fas fa-play"></i> Start Assessment
            </button>
          </div>
        </div>

        <!-- Question Assessment Card (Initially Hidden) -->
        <div class="card" id="questionAssessmentCard" style="display: none">
          <h2>
            <i class="fas fa-question-circle"></i> Mental Health Assessment
          </h2>
          <p id="assessmentDescription">
            Answer these questions honestly to receive an accurate assessment of
            your mental health.
          </p>

          <div class="question-form">
            <div class="question-container">
              <div class="question-text" id="currentQuestion">
                Loading question...
              </div>
              <div class="options-container" id="optionsContainer">
                <!-- Options will be populated here -->
              </div>
            </div>

            <div class="progress-container">
              <div class="progress-text">
                <span
                  >Question <span id="currentQuestionNumber">1</span> of
                  <span id="totalQuestions">10</span></span
                >
                <span id="progressPercent">0%</span>
              </div>
              <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
              </div>
            </div>

            <div class="assessment-nav">
              <button class="btn btn-outline" id="prevQuestionBtn" disabled>
                <i class="fas fa-arrow-left"></i> Previous
              </button>
              <button class="btn" id="nextQuestionBtn" disabled>
                <i class="fas fa-arrow-right"></i> Next
              </button>
            </div>
          </div>
        </div>

        <!-- Results Card (Initially Hidden) -->
        <div class="card" id="resultsCard" style="display: none">
          <h2><i class="fas fa-chart-line"></i> Your Assessment Results</h2>
          <p id="resultsDescription">
            Based on your responses, here's your personalized assessment.
          </p>

          <div class="results-container">
            <div class="risk-level" id="riskLevelContainer">
              <h3>Your Risk Level</h3>
              <p id="riskLevelText">Loading results...</p>
              <p id="riskLevelDescription"></p>
            </div>

            <div class="chart-container">
                <canvas id="resultsChart" style="display: flex; justify-content: center; align-items: center;"></canvas>
            </div>

            <div class="results-grid">
              <div class="result-card">
                <h4><i class="fas fa-info-circle"></i> Key Findings</h4>
                <div id="keyFindings">
                  <p>Analyzing your responses...</p>
                </div>
              </div>
              <div class="result-card">
                <h4><i class="fas fa-lightbulb"></i> Recommendations</h4>
                <div id="recommendations">
                  <p>Generating personalized recommendations...</p>
                </div>
              </div>
              <div class="result-card">
                <h4><i class="fas fa-book"></i> Resources</h4>
                <div id="resources">
                  <p>Compiling helpful resources...</p>
                </div>
              </div>
            </div>

            <div style="text-align: center; margin-top: 30px">
              <button class="btn" id="findHelpBtn">
                <i class="fas fa-hands-helping"></i> Find Professional Help
              </button>
            </div>
          </div>
        </div>

        <!-- Professional Help Card (Initially Hidden) -->
        <div class="card" id="professionalHelpCard" style="display: none">
          <h2><i class="fas fa-user-md"></i> Find Professional Help</h2>
          <p>
            Connect with licensed mental health professionals in your area who
            can provide personalized support.
          </p>

          <div class="doctor-list" id="doctorList">
            <!-- Doctors will be populated here by JavaScript -->
          </div>

          <div class="emergency-section">
            <h3>
              <i class="fas fa-exclamation-triangle"></i> Need Immediate Help?
            </h3>
            <p>
              If you're experiencing a crisis or having thoughts of self-harm,
              please reach out to emergency services immediately. You're not
              alone.
            </p>
            <button class="btn emergency-btn" id="emergencyBtn">
              <i class="fas fa-phone-alt"></i> Show Emergency Contacts
            </button>
            <div id="emergencyContacts" style="display: none">
              <div class="emergency-contacts">
                <p>
                  <strong>National Suicide Prevention Lifeline:</strong
                  ><br />1-800-273-TALK (8255)
                </p>
                <p>
                  <strong>Crisis Text Line:</strong><br />Text HOME to 741741
                </p>
                <p>
                  <strong>Emergency Services:</strong><br />911 or your local
                  emergency number
                </p>
                <p>
                  <strong>Veterans Crisis Line:</strong><br />1-800-273-8255,
                  press 1
                </p>
              </div>
            </div>
          </div>

          <div class="response-area">
            <h3><i class="fas fa-heart"></i> Self-Care Suggestions</h3>
            <div class="self-care-grid">
              <div class="self-care-card">
                <i class="fas fa-water"></i>
                <h4>Hydrate</h4>
                <p>Drink a glass of water and notice how it feels</p>
              </div>
              <div class="self-care-card">
                <i class="fas fa-walking"></i>
                <h4>Move</h4>
                <p>Go for a 10-minute walk outside</p>
              </div>
              <div class="self-care-card">
                <i class="fas fa-pen"></i>
                <h4>Journal</h4>
                <p>Write down three things you're grateful for</p>
              </div>
              <div class="self-care-card">
                <i class="fas fa-wind"></i>
                <h4>Breathe</h4>
                <p>Practice deep breathing for 5 minutes</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <footer>
      <div class="container">
        <p>
          This platform provides supportive guidance but is not a substitute for
          professional medical advice, diagnosis, or treatment.
        </p>
        <div class="footer-links">
          <a href="#">Privacy Policy</a>
          <a href="#">Terms of Service</a>
          <a href="#">Contact Us</a>
          <a href="#">Resources</a>
        </div>
        <p>© 2023 MindCare | Compassionate Mental Health Support</p>
      </div>
    </footer>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // DOM Elements
        const conditionSelectionCard = document.getElementById(
          "conditionSelectionCard"
        );
        const questionAssessmentCard = document.getElementById(
          "questionAssessmentCard"
        );
        const resultsCard = document.getElementById("resultsCard");
        const professionalHelpCard = document.getElementById(
          "professionalHelpCard"
        );

        const conditionGrid = document.getElementById("conditionGrid");
        const conditionCards = document.querySelectorAll(".condition-card");
        const startAssessmentBtn =
          document.getElementById("startAssessmentBtn");

        const currentQuestionEl = document.getElementById("currentQuestion");
        const optionsContainer = document.getElementById("optionsContainer");
        const currentQuestionNumber = document.getElementById(
          "currentQuestionNumber"
        );
        const totalQuestions = document.getElementById("totalQuestions");
        const progressPercent = document.getElementById("progressPercent");
        const progressFill = document.getElementById("progressFill");
        const prevQuestionBtn = document.getElementById("prevQuestionBtn");
        const nextQuestionBtn = document.getElementById("nextQuestionBtn");

        const riskLevelContainer =
          document.getElementById("riskLevelContainer");
        const riskLevelText = document.getElementById("riskLevelText");
        const riskLevelDescription = document.getElementById(
          "riskLevelDescription"
        );
        const keyFindings = document.getElementById("keyFindings");
        const recommendations = document.getElementById("recommendations");
        const resources = document.getElementById("resources");
        const findHelpBtn = document.getElementById("findHelpBtn");

        const doctorList = document.getElementById("doctorList");
        const emergencyBtn = document.getElementById("emergencyBtn");
        const emergencyContacts = document.getElementById("emergencyContacts");

        // Flow steps
        const step1 = document.getElementById("step1");
        const step2 = document.getElementById("step2");
        const step3 = document.getElementById("step3");
        const step4 = document.getElementById("step4");
        const connector1 = document.getElementById("connector1");
        const connector2 = document.getElementById("connector2");
        const connector3 = document.getElementById("connector3");

        // Chart
        let resultsChart;

        // Assessment variables
        let selectedCondition = null;
        let currentQuestionIndex = 0;
        let answers = [];
        let assessmentScore = 0;

        // Comprehensive question sets for different conditions
        const questionSets = {
          depression: [
            {
              question: "Over the past 2 weeks, how often have you felt down, depressed, or hopeless?",
              options: [
                "Not at all (0 days)",
                "Several days (1-7 days)",
                "More than half the days (8-12 days)",
                "Nearly every day (13-14 days)"
              ],
              weights: [0, 1, 2, 3],
              source: "PHQ-9"
            },
            {
              question: "How often have you had little interest or pleasure in doing things you usually enjoy?",
              options: [
                "Not at all (0 days)",
                "Several days (1-7 days)",
                "More than half the days (8-12 days)",
                "Nearly every day (13-14 days)"
              ],
              weights: [0, 1, 2, 3],
              source: "PHQ-9"
            },
            {
              question: "How often have you had trouble falling asleep, staying asleep, or sleeping too much?",
              options: [
                "Not at all",
                "Several days",
                "More than half the days",
                "Nearly every day"
              ],
              weights: [0, 1, 2, 3],
              source: "PHQ-9"
            },
            {
              question: "How often have you felt tired or had little energy?",
              options: [
                "Not at all",
                "Several days",
                "More than half the days",
                "Nearly every day"
              ],
              weights: [0, 1, 2, 3],
              source: "PHQ-9"
            },
            {
              question: "How often have you had a poor appetite or overeaten?",
              options: [
                "Not at all",
                "Several days",
                "More than half the days",
                "Nearly every day"
              ],
              weights: [0, 1, 2, 3],
              source: "PHQ-9"
            },
            {
              question: "How often have you felt bad about yourself - or that you're a failure or have let yourself or your family down?",
              options: [
                "Not at all",
                "Several days",
                "More than half the days",
                "Nearly every day"
              ],
              weights: [0, 1, 2, 3],
              source: "PHQ-9"
            },
            {
              question: "How often have you had trouble concentrating on things, such as reading the newspaper or watching television?",
              options: [
                "Not at all",
                "Several days",
                "More than half the days",
                "Nearly every day"
              ],
              weights: [0, 1, 2, 3],
              source: "PHQ-9"
            },
            {
              question: "How often have you been moving or speaking so slowly that other people could have noticed? Or the opposite - being so fidgety or restless that you have been moving around a lot more than usual?",
              options: [
                "Not at all",
                "Several days",
                "More than half the days",
                "Nearly every day"
              ],
              weights: [0, 1, 2, 3],
              source: "PHQ-9"
            },
            {
              question: "Have you had thoughts that you would be better off dead or of hurting yourself in some way?",
              options: [
                "Not at all",
                "Several days",
                "More than half the days",
                "Nearly every day"
              ],
              weights: [0, 1, 2, 3],
              source: "PHQ-9"
            },
            {
              question: "How difficult have these problems made it for you to do your work, take care of things at home, or get along with other people?",
              options: [
                "Not difficult at all",
                "Somewhat difficult",
                "Very difficult",
                "Extremely difficult"
              ],
              weights: [0, 1, 2, 3],
              source: "PHQ-9"
            }
          ],
          anxiety: [
            {
              question: "Over the last 2 weeks, how often have you been bothered by feeling nervous, anxious, or on edge?",
              options: [
                "Not at all",
                "Several days",
                "More than half the days",
                "Nearly every day"
              ],
              weights: [0, 1, 2, 3],
              source: "GAD-7"
            },
            {
              question: "How often have you been bothered by not being able to stop or control worrying?",
              options: [
                "Not at all",
                "Several days",
                "More than half the days",
                "Nearly every day"
              ],
              weights: [0, 1, 2, 3],
              source: "GAD-7"
            },
            {
              question: "How often have you been bothered by worrying too much about different things?",
              options: [
                "Not at all",
                "Several days",
                "More than half the days",
                "Nearly every day"
              ],
              weights: [0, 1, 2, 3],
              source: "GAD-7"
            },
            {
              question: "How often have you had trouble relaxing?",
              options: [
                "Not at all",
                "Several days",
                "More than half the days",
                "Nearly every day"
              ],
              weights: [0, 1, 2, 3],
              source: "GAD-7"
            },
            {
              question: "How often have you been so restless that it's hard to sit still?",
              options: [
                "Not at all",
                "Several days",
                "More than half the days",
                "Nearly every day"
              ],
              weights: [0, 1, 2, 3],
              source: "GAD-7"
            },
            {
              question: "How often have you become easily annoyed or irritable?",
              options: [
                "Not at all",
                "Several days",
                "More than half the days",
                "Nearly every day"
              ],
              weights: [0, 1, 2, 3],
              source: "GAD-7"
            },
            {
              question: "How often have you felt afraid as if something awful might happen?",
              options: [
                "Not at all",
                "Several days",
                "More than half the days",
                "Nearly every day"
              ],
              weights: [0, 1, 2, 3],
              source: "GAD-7"
            },
            {
              question: "Have you experienced sudden periods of intense fear or discomfort that reach a peak within minutes (panic attacks)?",
              options: [
                "Never",
                "Once or twice",
                "Several times",
                "Very frequently"
              ],
              weights: [0, 1, 2, 3],
              source: "DSM-5"
            },
            {
              question: "Do you avoid certain situations or activities because they make you anxious?",
              options: [
                "Never",
                "Rarely",
                "Sometimes",
                "Often"
              ],
              weights: [0, 1, 2, 3],
              source: "Clinical assessment"
            },
            {
              question: "How difficult have these anxiety symptoms made it for you to do your work, take care of things at home, or get along with other people?",
              options: [
                "Not difficult at all",
                "Somewhat difficult",
                "Very difficult",
                "Extremely difficult"
              ],
              weights: [0, 1, 2, 3],
              source: "GAD-7"
            }
          ],
          ocd: [
            {
              question: "Do you have repeated, persistent, and unwanted thoughts, urges, or images that cause you anxiety or distress?",
              options: [
                "Never",
                "Occasionally",
                "Frequently",
                "Constantly"
              ],
              weights: [0, 1, 2, 3],
              source: "Y-BOCS"
            },
            {
              question: "Do you feel driven to perform repetitive behaviors or mental acts in response to an obsession or according to rules you feel must be applied rigidly?",
              options: [
                "Never",
                "Occasionally",
                "Frequently",
                "Constantly"
              ],
              weights: [0, 1, 2, 3],
              source: "Y-BOCS"
            },
            {
              question: "How much time do you spend each day on obsessive thoughts or compulsive behaviors?",
              options: [
                "Less than 1 hour",
                "1-3 hours",
                "3-8 hours",
                "More than 8 hours"
              ],
              weights: [0, 1, 2, 3],
              source: "Y-BOCS"
            },
            {
              question: "How much do these symptoms interfere with your daily life?",
              options: [
                "No interference",
                "Mild interference",
                "Moderate interference",
                "Severe interference"
              ],
              weights: [0, 1, 2, 3],
              source: "Y-BOCS"
            },
            {
              question: "How much distress do these symptoms cause you?",
              options: [
                "None",
                "Mild",
                "Moderate",
                "Severe"
              ],
              weights: [0, 1, 2, 3],
              source: "Y-BOCS"
            },
            {
              question: "How much effort do you make to resist the obsessions or compulsions?",
              options: [
                "Always try to resist",
                "Try to resist most of the time",
                "Give in to most obsessions/compulsions",
                "Completely give in to all obsessions/compulsions"
              ],
              weights: [0, 1, 2, 3],
              source: "Y-BOCS"
            },
            {
              question: "How much control do you have over your obsessive thoughts or compulsive behaviors?",
              options: [
                "Complete control",
                "Much control",
                "Moderate control",
                "Little to no control"
              ],
              weights: [0, 1, 2, 3],
              source: "Y-BOCS"
            }
          ],
          ptsd: [
            {
              question: "Have you experienced or witnessed a life-threatening event that caused intense fear, helplessness, or horror?",
              options: [
                "No",
                "Yes, one event",
                "Yes, multiple events",
                "Yes, ongoing trauma"
              ],
              weights: [0, 1, 2, 3],
              source: "PCL-5"
            },
            {
              question: "Do you have repeated, distressing memories of the traumatic event?",
              options: [
                "Not at all",
                "Once or twice",
                "Several times",
                "Very frequently"
              ],
              weights: [0, 1, 2, 3],
              source: "PCL-5"
            },
            {
              question: "Do you have recurrent distressing dreams about the event?",
              options: [
                "Not at all",
                "Once or twice",
                "Several times",
                "Very frequently"
              ],
              weights: [0, 1, 2, 3],
              source: "PCL-5"
            },
            {
              question: "Do you ever feel as if the traumatic event were happening again (flashbacks)?",
              options: [
                "Not at all",
                "Once or twice",
                "Several times",
                "Very frequently"
              ],
              weights: [0, 1, 2, 3],
              source: "PCL-5"
            },
            {
              question: "Do you avoid memories, thoughts, or feelings associated with the traumatic event?",
              options: [
                "Not at all",
                "A little",
                "Moderately",
                "Very much"
              ],
              weights: [0, 1, 2, 3],
              source: "PCL-5"
            },
            {
              question: "Do you avoid external reminders of the event (people, places, conversations, activities)?",
              options: [
                "Not at all",
                "A little",
                "Moderately",
                "Very much"
              ],
              weights: [0, 1, 2, 3],
              source: "PCL-5"
            },
            {
              question: "Have you experienced negative changes in your thoughts and mood since the event?",
              options: [
                "Not at all",
                "A little",
                "Moderately",
                "Very much"
              ],
              weights: [0, 1, 2, 3],
              source: "PCL-5"
            },
            {
              question: "Have you noticed changes in your arousal and reactivity since the event (irritability, hypervigilance, startle response)?",
              options: [
                "Not at all",
                "A little",
                "Moderately",
                "Very much"
              ],
              weights: [0, 1, 2, 3],
              source: "PCL-5"
            },
            {
              question: "How much do these symptoms interfere with your social or work life?",
              options: [
                "Not at all",
                "A little",
                "Moderately",
                "Very much"
              ],
              weights: [0, 1, 2, 3],
              source: "PCL-5"
            }
          ],
          bipolar: [
            {
              question: "Have you ever had a period of time when you were not your usual self and you felt so good or hyper that other people thought you were not your normal self?",
              options: [
                "No",
                "Possibly",
                "Yes, clearly",
                "Yes, very clearly"
              ],
              weights: [0, 1, 2, 3],
              source: "MDQ"
            },
            {
              question: "During this period, did you need much less sleep than usual?",
              options: [
                "No",
                "Possibly",
                "Yes, clearly",
                "Yes, very clearly"
              ],
              weights: [0, 1, 2, 3],
              source: "MDQ"
            },
            {
              question: "During this period, were you much more talkative or spoke much faster than usual?",
              options: [
                "No",
                "Possibly",
                "Yes, clearly",
                "Yes, very clearly"
              ],
              weights: [0, 1, 2, 3],
              source: "MDQ"
            },
            {
              question: "During this period, did you have racing thoughts or feel like your thoughts were going very fast?",
              options: [
                "No",
                "Possibly",
                "Yes, clearly",
                "Yes, very clearly"
              ],
              weights: [0, 1, 2, 3],
              source: "MDQ"
            },
            {
              question: "During this period, were you so easily distracted that your attention shifted constantly?",
              options: [
                "No",
                "Possibly",
                "Yes, clearly",
                "Yes, very clearly"
              ],
              weights: [0, 1, 2, 3],
              source: "MDQ"
            },
            {
              question: "During this period, did you do things that were unusual for you or that other people might have thought were excessive, foolish, or risky?",
              options: [
                "No",
                "Possibly",
                "Yes, clearly",
                "Yes, very clearly"
              ],
              weights: [0, 1, 2, 3],
              source: "MDQ"
            },
            {
              question: "Have you had periods of feeling sad, empty, or depressed most of the day, nearly every day?",
              options: [
                "No",
                "Possibly",
                "Yes, clearly",
                "Yes, very clearly"
              ],
              weights: [0, 1, 2, 3],
              source: "MDQ"
            },
            {
              question: "Have you had periods of loss of interest or pleasure in most activities?",
              options: [
                "No",
                "Possibly",
                "Yes, clearly",
                "Yes, very clearly"
              ],
              weights: [0, 1, 2, 3],
              source: "MDQ"
            },
            {
              question: "Have these mood swings caused you significant problems at work, at school, or in your personal relationships?",
              options: [
                "No problems",
                "Minor problems",
                "Moderate problems",
                "Serious problems"
              ],
              weights: [0, 1, 2, 3],
              source: "MDQ"
            }
          ],
          insomnia: [
            {
              question: "How often do you have difficulty falling asleep?",
              options: [
                "Never",
                "Occasionally (1-2 times per week)",
                "Frequently (3-5 times per week)",
                "Always (6-7 times per week)"
              ],
              weights: [0, 1, 2, 3],
              source: "ISI"
            },
            {
              question: "How often do you have difficulty staying asleep?",
              options: [
                "Never",
                "Occasionally (1-2 times per week)",
                "Frequently (3-5 times per week)",
                "Always (6-7 times per week)"
              ],
              weights: [0, 1, 2, 3],
              source: "ISI"
            },
            {
              question: "How often do you wake up too early and can't get back to sleep?",
              options: [
                "Never",
                "Occasionally (1-2 times per week)",
                "Frequently (3-5 times per week)",
                "Always (6-7 times per week)"
              ],
              weights: [0, 1, 2, 3],
              source: "ISI"
            },
            {
              question: "How satisfied/dissatisfied are you with your current sleep pattern?",
              options: [
                "Very satisfied",
                "Moderately satisfied",
                "Moderately dissatisfied",
                "Very dissatisfied"
              ],
              weights: [0, 1, 2, 3],
              source: "ISI"
            },
            {
              question: "How noticeable to others do you think your sleep problem is in terms of impairing your quality of life?",
              options: [
                "Not at all noticeable",
                "A little",
                "Somewhat",
                "Very much"
              ],
              weights: [0, 1, 2, 3],
              source: "ISI"
            },
            {
              question: "How worried/distressed are you about your current sleep problem?",
              options: [
                "Not at all",
                "A little",
                "Somewhat",
                "Very much"
              ],
              weights: [0, 1, 2, 3],
              source: "ISI"
            },
            {
              question: "To what extent do you consider your sleep problem to interfere with your daily functioning?",
              options: [
                "Not at all",
                "A little",
                "Somewhat",
                "Very much"
              ],
              weights: [0, 1, 2, 3],
              source: "ISI"
            }
          ],
          adhd: [
            {
              question: "How often do you have trouble wrapping up the final details of a project, once the challenging parts have been done?",
              options: [
                "Never",
                "Rarely",
                "Sometimes",
                "Often"
              ],
              weights: [0, 1, 2, 3],
              source: "ASRS"
            },
            {
              question: "How often do you have difficulty getting things in order when you have to do a task that requires organization?",
              options: [
                "Never",
                "Rarely",
                "Sometimes",
                "Often"
              ],
              weights: [0, 1, 2, 3],
              source: "ASRS"
            },
            {
              question: "How often do you have problems remembering appointments or obligations?",
              options: [
                "Never",
                "Rarely",
                "Sometimes",
                "Often"
              ],
              weights: [0, 1, 2, 3],
              source: "ASRS"
            },
            {
              question: "When you have a task that requires a lot of thought, how often do you avoid or delay getting started?",
              options: [
                "Never",
                "Rarely",
                "Sometimes",
                "Often"
              ],
              weights: [0, 1, 2, 3],
              source: "ASRS"
            },
            {
              question: "How often do you fidget or squirm with your hands or feet when you have to sit down for a long time?",
              options: [
                "Never",
                "Rarely",
                "Sometimes",
                "Often"
              ],
              weights: [0, 1, 2, 3],
              source: "ASRS"
            },
            {
              question: "How often do you feel overly active and compelled to do things, like you were driven by a motor?",
              options: [
                "Never",
                "Rarely",
                "Sometimes",
                "Often"
              ],
              weights: [0, 1, 2, 3],
              source: "ASRS"
            },
            {
              question: "How often do you make careless mistakes when you have to work on a boring or difficult project?",
              options: [
                "Never",
                "Rarely",
                "Sometimes",
                "Often"
              ],
              weights: [0, 1, 2, 3],
              source: "ASRS"
            },
            {
              question: "How often do you have difficulty keeping your attention when you are doing boring or repetitive work?",
              options: [
                "Never",
                "Rarely",
                "Sometimes",
                "Often"
              ],
              weights: [0, 1, 2, 3],
              source: "ASRS"
            },
            {
              question: "How often do you have difficulty concentrating on what people say to you, even when they are speaking to you directly?",
              options: [
                "Never",
                "Rarely",
                "Sometimes",
                "Often"
              ],
              weights: [0, 1, 2, 3],
              source: "ASRS"
            },
            {
              question: "How often do you misplace or have difficulty finding things at home or at work?",
              options: [
                "Never",
                "Rarely",
                "Sometimes",
                "Often"
              ],
              weights: [0, 1, 2, 3],
              source: "ASRS"
            }
          ],
          autism: [
            {
              question: "I prefer to do things the same way over and over again",
              options: [
                "Strongly disagree",
                "Slightly disagree",
                "Slightly agree",
                "Strongly agree"
              ],
              weights: [0, 1, 2, 3],
              source: "AQ-10"
            },
            {
              question: "I find it hard to make small talk",
              options: [
                "Strongly disagree",
                "Slightly disagree",
                "Slightly agree",
                "Strongly agree"
              ],
              weights: [0, 1, 2, 3],
              source: "AQ-10"
            },
            {
              question: "I find myself drawn more strongly to people than to things",
              options: [
                "Strongly agree",
                "Slightly agree",
                "Slightly disagree",
                "Strongly disagree"
              ],
              weights: [0, 1, 2, 3],
              source: "AQ-10"
            },
            {
              question: "I tend to notice details that others do not",
              options: [
                "Strongly disagree",
                "Slightly disagree",
                "Slightly agree",
                "Strongly agree"
              ],
              weights: [0, 1, 2, 3],
              source: "AQ-10"
            },
            {
              question: "I find it easy to work out what someone is thinking or feeling just by looking at their face",
              options: [
                "Strongly agree",
                "Slightly agree",
                "Slightly disagree",
                "Strongly disagree"
              ],
              weights: [0, 1, 2, 3],
              source: "AQ-10"
            },
            {
              question: "I find it easy to do more than one thing at once",
              options: [
                "Strongly agree",
                "Slightly agree",
                "Slightly disagree",
                "Strongly disagree"
              ],
              weights: [0, 1, 2, 3],
              source: "AQ-10"
            },
            {
              question: "When I'm reading a story, I find it difficult to work out the characters' intentions",
              options: [
                "Strongly disagree",
                "Slightly disagree",
                "Slightly agree",
                "Strongly agree"
              ],
              weights: [0, 1, 2, 3],
              source: "AQ-10"
            },
            {
              question: "I like to collect information about categories of things (e.g., types of cars, birds, trains, plants)",
              options: [
                "Strongly disagree",
                "Slightly disagree",
                "Slightly agree",
                "Strongly agree"
              ],
              weights: [0, 1, 2, 3],
              source: "AQ-10"
            },
            {
              question: "I find it easy to work out what someone is thinking or feeling just by looking at their face",
              options: [
                "Strongly agree",
                "Slightly agree",
                "Slightly disagree",
                "Strongly disagree"
              ],
              weights: [0, 1, 2, 3],
              source: "AQ-10"
            },
            {
              question: "I find it hard to make new friends",
              options: [
                "Strongly disagree",
                "Slightly disagree",
                "Slightly agree",
                "Strongly agree"
              ],
              weights: [0, 1, 2, 3],
              source: "AQ-10"
            }
          ]
        };

        // Event listeners for condition selection
        conditionCards.forEach((card) => {
          card.addEventListener("click", function () {
            conditionCards.forEach((c) => c.classList.remove("selected"));
            this.classList.add("selected");
            selectedCondition = this.getAttribute("data-condition");
            startAssessmentBtn.disabled = false;
            
            // Update assessment description based on selected condition
            const assessmentDescription = document.getElementById("assessmentDescription");
            if (selectedCondition === "depression") {
              assessmentDescription.textContent = "This assessment uses the PHQ-9, a validated depression screening tool. Answer honestly about how you've been feeling over the past 2 weeks.";
            } else if (selectedCondition === "anxiety") {
              assessmentDescription.textContent = "This assessment uses the GAD-7, a validated anxiety screening tool. Answer honestly about how you've been feeling over the past 2 weeks.";
            } else {
              assessmentDescription.textContent = "Answer these questions honestly to receive an accurate assessment of your mental health.";
            }
          });
        });

        // Start assessment
        startAssessmentBtn.addEventListener("click", function () {
          if (selectedCondition) {
            conditionSelectionCard.style.display = "none";
            questionAssessmentCard.style.display = "block";
            step1.classList.remove("active");
            connector1.classList.add("completed");
            step2.classList.add("active");
            loadQuestion();
          }
        });

        // Load question
        function loadQuestion() {
          const questionSet = questionSets[selectedCondition];
          const currentQuestion = questionSet[currentQuestionIndex];
          currentQuestionEl.textContent = currentQuestion.question;
          optionsContainer.innerHTML = "";
          currentQuestion.options.forEach((option, index) => {
            const optionItem = document.createElement("div");
            optionItem.classList.add("option-item");
            optionItem.innerHTML = `
                        <input type="radio" name="option" value="${currentQuestion.weights[index]}" id="option${index}">
                        <label for="option${index}">${option}</label>
                    `;
            optionItem.addEventListener("click", function () {
              document
                .querySelectorAll(".option-item")
                .forEach((item) => item.classList.remove("selected"));
              this.classList.add("selected");
              nextQuestionBtn.disabled = false;
            });
            optionsContainer.appendChild(optionItem);
          });
          currentQuestionNumber.textContent = currentQuestionIndex + 1;
          totalQuestions.textContent = questionSet.length;
          progressPercent.textContent = `${Math.round(
            ((currentQuestionIndex + 1) / questionSet.length) * 100
          )}%`;
          progressFill.style.width = `${
            ((currentQuestionIndex + 1) / questionSet.length) * 100
          }%`;
          prevQuestionBtn.disabled = currentQuestionIndex === 0;
          nextQuestionBtn.disabled = true;
        }

        // Navigate questions
        nextQuestionBtn.addEventListener("click", function () {
          const selectedOption = document.querySelector(
            ".option-item.selected input"
          );
          if (selectedOption) {
            answers[currentQuestionIndex] = parseInt(selectedOption.value);
            currentQuestionIndex++;
            if (currentQuestionIndex < questionSets[selectedCondition].length) {
              loadQuestion();
            } else {
              calculateResults();
            }
          }
        });

        prevQuestionBtn.addEventListener("click", function () {
          if (currentQuestionIndex > 0) {
            currentQuestionIndex--;
            loadQuestion();
          }
        });

        // Calculate results
        function calculateResults() {
          assessmentScore = answers.reduce((a, b) => a + b, 0);
          questionAssessmentCard.style.display = "none";
          resultsCard.style.display = "block";
          step2.classList.remove("active");
          connector2.classList.add("completed");
          step3.classList.add("active");
          displayResults();
        }

        // Display results
        function displayResults() {
          const maxScore = questionSets[selectedCondition].length * 3;
          const percentageScore = Math.round((assessmentScore / maxScore) * 100);
          
          let riskLevel, riskClass, riskDescription;
          let recommendationsText = "";
          let resourcesText = "";
          
          // Condition-specific scoring and recommendations
          if (selectedCondition === "depression") {
            if (assessmentScore <= 4) {
              riskLevel = "Minimal";
              riskClass = "risk-low";
              riskDescription = "Your responses suggest minimal depression symptoms.";
              recommendationsText = "<ul><li>Continue healthy habits like regular exercise and social connection</li><li>Monitor your mood periodically</li><li>Consider journaling or mindfulness practices</li></ul>";
            } else if (assessmentScore <= 9) {
              riskLevel = "Mild";
              riskClass = "risk-low";
              riskDescription = "Your responses suggest mild depression symptoms.";
              recommendationsText = "<ul><li>Practice self-care strategies</li><li>Increase social support</li><li>Consider talking to a counselor or therapist</li><li>Monitor symptoms for worsening</li></ul>";
            } else if (assessmentScore <= 14) {
              riskLevel = "Moderate";
              riskClass = "risk-moderate";
              riskDescription = "Your responses suggest moderate depression symptoms that may benefit from treatment.";
              recommendationsText = "<ul><li>Consider consulting a mental health professional</li><li>Explore therapy options like CBT</li><li>Discuss with your primary care provider</li><li>Increase self-care and social support</li></ul>";
            } else if (assessmentScore <= 19) {
              riskLevel = "Moderately Severe";
              riskClass = "risk-moderate";
              riskDescription = "Your responses suggest moderately severe depression symptoms that likely warrant treatment.";
              recommendationsText = "<ul><li>Seek evaluation from a mental health professional</li><li>Consider therapy and/or medication options</li><li>Reach out to supportive friends/family</li><li>Create a safety plan if having suicidal thoughts</li></ul>";
            } else {
              riskLevel = "Severe";
              riskClass = "risk-high";
              riskDescription = "Your responses suggest severe depression symptoms that strongly warrant treatment.";
              recommendationsText = "<ul><li>Seek professional help immediately</li><li>Contact a mental health provider or your doctor</li><li>Consider reaching out to a crisis line if needed</li><li>Ensure you have support from friends/family</li></ul>";
            }
            
            resourcesText = `
              <p><strong>Depression Resources:</strong></p>
              <ul>
                <li><a href="https://www.nimh.nih.gov/health/topics/depression" target="_blank">National Institute of Mental Health - Depression</a></li>
                <li><a href="https://adaa.org/understanding-anxiety/depression" target="_blank">Anxiety and Depression Association of America</a></li>
                <li><a href="https://www.psychologytoday.com/us/therapists/depression" target="_blank">Find a Depression Therapist</a></li>
              </ul>
            `;
          } 
          else if (selectedCondition === "anxiety") {
            if (assessmentScore <= 4) {
              riskLevel = "Minimal";
              riskClass = "risk-low";
              riskDescription = "Your responses suggest minimal anxiety symptoms.";
              recommendationsText = "<ul><li>Continue stress management practices</li><li>Maintain healthy sleep habits</li><li>Practice relaxation techniques</li></ul>";
            } else if (assessmentScore <= 9) {
              riskLevel = "Mild";
              riskClass = "risk-low";
              riskDescription = "Your responses suggest mild anxiety symptoms.";
              recommendationsText = "<ul><li>Practice relaxation techniques</li><li>Limit caffeine intake</li><li>Consider mindfulness or meditation</li><li>Monitor symptoms for worsening</li></ul>";
            } else if (assessmentScore <= 14) {
              riskLevel = "Moderate";
              riskClass = "risk-moderate";
              riskDescription = "Your responses suggest moderate anxiety symptoms that may benefit from treatment.";
              recommendationsText = "<ul><li>Consider consulting a mental health professional</li><li>Explore therapy options like CBT</li><li>Practice regular relaxation techniques</li><li>Discuss with your primary care provider</li></ul>";
            } else {
              riskLevel = "Severe";
              riskClass = "risk-high";
              riskDescription = "Your responses suggest severe anxiety symptoms that strongly warrant treatment.";
              recommendationsText = "<ul><li>Seek professional help immediately</li><li>Consider therapy and/or medication options</li><li>Practice daily relaxation techniques</li><li>Create a plan for managing panic attacks if needed</li></ul>";
            }
            
            resourcesText = `
              <p><strong>Anxiety Resources:</strong></p>
              <ul>
                <li><a href="https://www.nimh.nih.gov/health/topics/anxiety-disorders" target="_blank">National Institute of Mental Health - Anxiety</a></li>
                <li><a href="https://adaa.org/" target="_blank">Anxiety and Depression Association of America</a></li>
                <li><a href="https://www.psychologytoday.com/us/therapists/anxiety" target="_blank">Find an Anxiety Therapist</a></li>
              </ul>
            `;
          }
          else {
            // Generic scoring for other conditions
            if (percentageScore <= 25) {
              riskLevel = "Low";
              riskClass = "risk-low";
              riskDescription = "Your responses suggest minimal symptoms.";
              recommendationsText = "<ul><li>Continue healthy habits</li><li>Monitor your symptoms</li><li>Educate yourself about the condition</li></ul>";
            } else if (percentageScore <= 50) {
              riskLevel = "Mild";
              riskClass = "risk-low";
              riskDescription = "Your responses suggest mild symptoms.";
              recommendationsText = "<ul><li>Consider self-help strategies</li><li>Increase your knowledge about the condition</li><li>Monitor symptoms for changes</li></ul>";
            } else if (percentageScore <= 75) {
              riskLevel = "Moderate";
              riskClass = "risk-moderate";
              riskDescription = "Your responses suggest moderate symptoms that may benefit from professional attention.";
              recommendationsText = "<ul><li>Consider consulting a specialist</li><li>Explore treatment options</li><li>Develop a self-care plan</li></ul>";
            } else {
              riskLevel = "High";
              riskClass = "risk-high";
              riskDescription = "Your responses suggest significant symptoms that would likely benefit from professional evaluation and treatment.";
              recommendationsText = "<ul><li>Seek professional evaluation</li><li>Discuss treatment options with a specialist</li><li>Create a support plan</li></ul>";
            }
            
            resourcesText = `
              <p><strong>General Mental Health Resources:</strong></p>
              <ul>
                <li><a href="https://www.nami.org/" target="_blank">National Alliance on Mental Illness (NAMI)</a></li>
                <li><a href="https://www.psychologytoday.com/us" target="_blank">Psychology Today Therapist Finder</a></li>
                <li><a href="https://www.samhsa.gov/" target="_blank">Substance Abuse and Mental Health Services Administration</a></li>
              </ul>
            `;
          }

          riskLevelContainer.className = `risk-level ${riskClass}`;
          riskLevelText.textContent = riskLevel;
          riskLevelDescription.textContent = riskDescription;

          // Example chart data
          const ctx = document.getElementById("resultsChart").getContext("2d");
          if (resultsChart) resultsChart.destroy();
          resultsChart = new Chart(ctx, {
            type: "doughnut",
            data: {
              labels: ["Your Score", "Remaining"],
              datasets: [
                {
                  data: [
                    assessmentScore,
                    maxScore - assessmentScore
                  ],
                  backgroundColor: [riskClass === "risk-low" ? "#00b894" : 
                                  riskClass === "risk-moderate" ? "#fdcb6e" : "#d63031", 
                                  "#dfe6e9"],
                },
              ],
            },
            options: {
              responsive: true,
              plugins: {
                legend: {
                  display: false,
                },
              },
            },
          });

          // Populate findings, recommendations, and resources
          keyFindings.innerHTML = `
            <p>Your assessment score: ${assessmentScore} out of ${maxScore}</p>
            <p>Based on your responses, you fall into the <strong>${riskLevel}</strong> range for ${selectedCondition} symptoms.</p>
            <p>${riskDescription}</p>
          `;
          
          recommendations.innerHTML = recommendationsText;
          resources.innerHTML = resourcesText;
        }

        // Find help button
        findHelpBtn.addEventListener("click", function () {
          resultsCard.style.display = "none";
          professionalHelpCard.style.display = "block";
          step3.classList.remove("active");
          connector3.classList.add("completed");
          step4.classList.add("active");
          
          // Generate mock doctor listings
          doctorList.innerHTML = '';
          
          const specialties = {
            depression: "Depression Specialist",
            anxiety: "Anxiety Specialist",
            ocd: "OCD Specialist",
            ptsd: "Trauma Specialist",
            bipolar: "Mood Disorder Specialist",
            insomnia: "Sleep Specialist",
            adhd: "ADHD Specialist",
            autism: "Autism Specialist"
          };
          
          const cities = ["New York", "Los Angeles", "Chicago", "Houston", "Phoenix", "Philadelphia"];
          const lastNames = ["Smith", "Johnson", "Williams", "Brown", "Jones", "Miller", "Davis"];
          
          for (let i = 0; i < 5; i++) {
            const doctorCard = document.createElement("div");
            doctorCard.className = "doctor-card";
            
            const city = cities[Math.floor(Math.random() * cities.length)];
            const lastName = lastNames[Math.floor(Math.random() * lastNames.length)];
            const distance = (Math.random() * 15 + 1).toFixed(1);
            
            doctorCard.innerHTML = `
              <h4>Dr. ${lastName}</h4>
              <p class="specialty">${specialties[selectedCondition]}</p>
              <p>${city} Mental Health Center</p>
              <p>Licensed Psychologist</p>
              <p class="distance">${distance} miles from your location</p>
              <div class="availability">
                <i class="fas fa-calendar-alt"></i>
                <span>Next available: ${Math.floor(Math.random() * 7) + 1} days</span>
              </div>
              <button class="btn" style="margin-top: 10px; width: 100%;">
                <i class="fas fa-phone"></i> Contact
              </button>
            `;
            
            doctorList.appendChild(doctorCard);
          }
        });

        // Emergency contacts toggle
        emergencyBtn.addEventListener("click", function () {
          emergencyContacts.style.display =
            emergencyContacts.style.display === "none" ? "block" : "none";
        });
      });
    </script>
  </body>
</html>