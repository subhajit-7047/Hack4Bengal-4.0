<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MindCare | Mental Health Support</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #5b8cff;
            --primary-dark: #3a6ff0;
            --secondary: #8e44ad;
            --accent: #00cec9;
            --light: #f8f9fa;
            --dark: #2d3436;
            --gray: #636e72;
            --success: #00b894;
            --warning: #fdcb6e;
            --danger: #d63031;
            --card-bg: rgba(255, 255, 255, 0.9);
            --glass-bg: rgba(255, 255, 255, 0.15);
            --glass-border: rgba(255, 255, 255, 0.2);
            --text-light: #f5f6fa;
            --gradient-primary: linear-gradient(135deg, #5b8cff 0%, #8e44ad 100%);
            --gradient-accent: linear-gradient(135deg, #00cec9 0%, #0984e3 100%);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Poppins', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
        }

        @font-face {
            font-family: 'Poppins';
            font-style: normal;
            font-weight: 400;
            src: url(https://fonts.gstatic.com/s/poppins/v20/pxiEyp8kv8JHgFVrJJfedw.ttf) format('truetype');
        }

        @font-face {
            font-family: 'Poppins';
            font-style: normal;
            font-weight: 600;
            src: url(https://fonts.gstatic.com/s/poppins/v20/pxiByp8kv8JHgFVrLEj6Z1xlEA.ttf) format('truetype');
        }

        body {
            background: var(--gradient-primary);
            background-attachment: fixed;
            color: var(--dark);
            line-height: 1.6;
            min-height: 100vh;
            padding-bottom: 40px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background: var(--glass-bg);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--glass-border);
            color: var(--text-light);
            padding: 25px 0;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: var(--gradient-primary);
            z-index: -1;
            opacity: 0.8;
            animation: rotate 20s linear(0 0%, 0 1.8%, 0.01 3.6%, 0.03 6.35%, 0.07 9.1%, 0.13 11.4%, 0.19 13.4%, 0.27 15%, 0.34 16.1%, 0.54 18.35%, 0.66 20.6%, 0.72 22.4%, 0.77 24.6%, 0.81 27.3%, 0.85 30.4%, 0.88 35.1%, 0.92 40.6%, 0.94 47.2%, 0.96 55%, 0.98 64%, 0.99 74.4%, 1 86.4%, 1 100%) infinite;
        }

        @keyframes rotate {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        h1 {
            margin-bottom: 10px;
            font-size: 2.5rem;
            font-weight: 600;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .tagline {
            font-size: 1.1rem;
            opacity: 0.9;
            max-width: 600px;
            margin: 0 auto;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr;
            gap: 25px;
            margin-top: 40px;
        }

        @media (min-width: 992px) {
            .main-content {
                grid-template-columns: 1fr 1fr;
            }
        }

        .card {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            backdrop-filter: blur(5px);
            border: 1px solid var(--glass-border);
            overflow: hidden;
            position: relative;
        }

        .card::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: var(--gradient-accent);
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
        }

        .card h2 {
            color: var(--primary-dark);
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid rgba(0, 0, 0, 0.1);
            font-size: 1.8rem;
            font-weight: 600;
            display: flex;
            align-items: center;
        }

        .card h2 i {
            margin-right: 12px;
            color: var(--accent);
        }

        .question-form textarea {
            width: 100%;
            padding: 16px;
            border: 1px solid rgba(0, 0, 0, 0.1);
            border-radius: 8px;
            resize: vertical;
            min-height: 120px;
            margin-bottom: 15px;
            font-size: 16px;
            transition: all 0.3s;
            background: rgba(255, 255, 255, 0.8);
        }

        .question-form textarea:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 0 3px rgba(0, 206, 201, 0.2);
        }

        .btn {
            background: var(--gradient-accent);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 500;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .btn i {
            margin-right: 8px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }

        .btn:active {
            transform: translateY(0);
        }

        .response-area {
            margin-top: 25px;
            padding: 20px;
            border-radius: 8px;
            background: rgba(248, 249, 250, 0.7);
            border-left: 4px solid var(--accent);
            animation: fadeIn 0.5s ease-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .response-area h3 {
            margin-bottom: 15px;
            color: var(--primary-dark);
            font-size: 1.3rem;
            display: flex;
            align-items: center;
        }

        .response-area h3 i {
            margin-right: 10px;
            color: var(--accent);
        }

        .doctor-list {
            margin-top: 25px;
            display: grid;
            gap: 15px;
        }

        .doctor-card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            transition: all 0.3s;
            border-left: 4px solid var(--success);
            display: flex;
            flex-direction: column;
        }

        .doctor-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
        }

        .doctor-card h4 {
            color: var(--primary-dark);
            margin-bottom: 8px;
            font-size: 1.2rem;
        }

        .doctor-card p {
            margin-bottom: 6px;
            font-size: 0.9rem;
            color: var(--gray);
        }

        .doctor-card .specialty {
            color: var(--secondary);
            font-weight: 500;
            margin: 8px 0;
        }

        .doctor-card .distance {
            color: var(--gray);
            font-style: italic;
            font-size: 0.85rem;
        }

        .doctor-card .availability {
            margin-top: 10px;
            padding-top: 10px;
            border-top: 1px dashed rgba(0, 0, 0, 0.1);
            display: flex;
            align-items: center;
        }

        .emergency-section {
            background: rgba(253, 203, 110, 0.2);
            border-left: 4px solid var(--warning);
            padding: 20px;
            margin-top: 25px;
            border-radius: 8px;
            animation: pulseWarning 2s infinite;
        }

        @keyframes pulseWarning {
            0% {
                box-shadow: 0 0 0 0 rgba(253, 203, 110, 0.4);
            }

            70% {
                box-shadow: 0 0 0 10px rgba(253, 203, 110, 0);
            }

            100% {
                box-shadow: 0 0 0 0 rgba(253, 203, 110, 0);
            }
        }

        .emergency-section h3 {
            color: var(--danger);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }

        .emergency-section h3 i {
            margin-right: 10px;
        }

        .emergency-btn {
            background: var(--gradient-accent);
            margin-top: 15px;
            background: var(--danger);
            background: linear-gradient(135deg, var(--danger) 0%, #e84393 100%);
        }

        .emergency-contacts {
            background: white;
            border-radius: 8px;
            padding: 15px;
            margin-top: 15px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        .emergency-contacts p {
            margin-bottom: 10px;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
        }

        .emergency-contacts p:last-child {
            margin-bottom: 0;
            padding-bottom: 0;
            border-bottom: none;
        }

        .emergency-contacts strong {
            color: var(--danger);
        }

        .loading {
            display: none;
            text-align: center;
            margin: 20px 0;
            flex-direction: column;
            align-items: center;
        }

        .loading-spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            border-radius: 50%;
            border-top: 4px solid var(--accent);
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin-bottom: 15px;
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        .self-care-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .self-care-card {
            background: white;
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
            transition: all 0.3s;
            border-top: 3px solid var(--accent);
            text-align: center;
        }

        .self-care-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .self-care-card i {
            font-size: 1.5rem;
            color: var(--accent);
            margin-bottom: 10px;
        }

        .self-care-card h4 {
            color: var(--primary-dark);
            margin-bottom: 8px;
            font-size: 1rem;
        }

        footer {
            text-align: center;
            margin-top: 60px;
            padding: 25px;
            color: var(--text-light);
            font-size: 0.9rem;
            background: rgba(0, 0, 0, 0.1);
            border-radius: 16px;
            backdrop-filter: blur(5px);
            max-width: 1200px;
            margin-left: auto;
            margin-right: auto;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 15px;
        }

        .footer-links a {
            color: var(--text-light);
            text-decoration: none;
            transition: all 0.3s;
        }

        .footer-links a:hover {
            color: var(--accent);
            text-decoration: underline;
        }

        /* Floating animation for decorative elements */
        .floating {
            animation: floating 3s ease-in-out infinite;
        }

        @keyframes floating {
            0% {
                transform: translateY(0px);
            }

            50% {
                transform: translateY(-10px);
            }

            100% {
                transform: translateY(0px);
            }
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            h1 {
                font-size: 2rem;
            }

            .card {
                padding: 20px;
            }

            .self-care-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>

<body>
    <header>
        <div class="container">
            <h1><i class="fas fa-brain"></i> MindCare</h1>
            <p class="tagline">Your compassionate mental health companion with instant support and professional
                connections</p>
        </div>
    </header>

    <div class="container">
        <div class="main-content">
            <div class="card floating" style="animation-delay: 0.1s;">
                <h2><i class="fas fa-comment-medical"></i> Share Your Thoughts</h2>
                <p>Express what's on your mind and receive compassionate, AI-powered guidance to help you navigate your
                    feelings.</p>

                <form class="question-form" id="mentalHealthForm">
                    <textarea id="userQuestion" placeholder="How are you feeling today? What challenges are you facing?"
                        required></textarea>
                    <button type="submit" class="btn"><i class="fas fa-robot"></i> Get Support</button>
                </form>

                <div class="loading" id="loadingIndicator">
                    <div class="loading-spinner"></div>
                    <p>Analyzing with compassion...</p>
                </div>

                <div class="response-area" id="responseArea" style="display: none;">
                    <h3><i class="fas fa-hands-helping"></i> Support Guidance</h3>
                    <div id="aiResponse"></div>
                </div>

                <div class="emergency-section">
                    <h3><i class="fas fa-exclamation-triangle"></i> Need Immediate Help?</h3>
                    <p>If you're experiencing a crisis or having thoughts of self-harm, please reach out to emergency
                        services immediately. You're not alone.</p>
                    <button class="btn emergency-btn" id="emergencyBtn"><i class="fas fa-phone-alt"></i> Show Emergency
                        Contacts</button>
                    <div id="emergencyContacts" style="display: none;">
                        <div class="emergency-contacts">
                            <p><strong>National Suicide Prevention Lifeline:</strong><br>1-800-273-TALK (8255)</p>
                            <p><strong>Crisis Text Line:</strong><br>Text HOME to 741741</p>
                            <p><strong>Emergency Services:</strong><br>911 or your local emergency number</p>
                            <p><strong>Veterans Crisis Line:</strong><br>1-800-273-8255, press 1</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card floating" style="animation-delay: 0.2s;">
                <h2><i class="fas fa-user-md"></i> Find Professional Help</h2>
                <p>Connect with licensed mental health professionals in your area who can provide personalized support.
                </p>

                <button class="btn" id="refreshDoctors"><i class="fas fa-sync-alt"></i> Refresh List</button>

                <div class="doctor-list" id="doctorList">
                    <!-- Doctors will be populated here by JavaScript -->
                </div>

                <div class="response-area">
                    <h3><i class="fas fa-heart"></i> Self-Care Suggestions</h3>
                    <div class="self-care-grid">
                        <div class="self-care-card">
                            <i class="fas fa-water"></i>
                            <h4>Hydrate</h4>
                            <p>Drink a glass of water and notice how it feels</p>
                        </div>
                        <div class="self-care-card">
                            <i class="fas fa-walking"></i>
                            <h4>Move</h4>
                            <p>Go for a 10-minute walk outside</p>
                        </div>
                        <div class="self-care-card">
                            <i class="fas fa-pen"></i>
                            <h4>Journal</h4>
                            <p>Write down three things you're grateful for</p>
                        </div>
                        <div class="self-care-card">
                            <i class="fas fa-wind"></i>
                            <h4>Breathe</h4>
                            <p>Practice deep breathing for 5 minutes</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <div class="container">
            <p>This platform provides supportive guidance but is not a substitute for professional medical advice,
                diagnosis, or treatment.</p>
            <div class="footer-links">
                <a href="#">Privacy Policy</a>
                <a href="#">Terms of Service</a>
                <a href="#">Contact Us</a>
                <a href="#">Resources</a>
            </div>
            <p>Â© 2023 MindCare | Compassionate Mental Health Support</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Form submission for mental health questions
            const mentalHealthForm = document.getElementById('mentalHealthForm');
            const userQuestion = document.getElementById('userQuestion');
            const responseArea = document.getElementById('responseArea');
            const aiResponse = document.getElementById('aiResponse');
            const loadingIndicator = document.getElementById('loadingIndicator');

            // Emergency contacts toggle
            const emergencyBtn = document.getElementById('emergencyBtn');
            const emergencyContacts = document.getElementById('emergencyContacts');

            // Doctors list
            const doctorList = document.getElementById('doctorList');
            const refreshDoctorsBtn = document.getElementById('refreshDoctors');

            // Sample doctor data (in a real app, this would come from an API)
            const sampleDoctors = [
                {
                    name: "Dr. Sarah Johnson",
                    specialty: "Clinical Psychologist",
                    address: "123 Wellness St, Suite 200",
                    phone: "(555) 123-4567",
                    distance: "0.8 miles away",
                    acceptsNewPatients: true,
                    rating: 4.8
                },
                {
                    name: "Dr. Michael Chen",
                    specialty: "Psychiatrist",
                    address: "456 Mindful Ave",
                    phone: "(555) 987-6543",
                    distance: "1.5 miles away",
                    acceptsNewPatients: true,
                    rating: 4.6
                },
                {
                    name: "Dr. Emily Rodriguez, LCSW",
                    specialty: "Licensed Clinical Social Worker",
                    address: "789 Harmony Blvd",
                    phone: "(555) 456-7890",
                    distance: "2.1 miles away",
                    acceptsNewPatients: false,
                    rating: 4.9
                },
                {
                    name: "Dr. James Wilson",
                    specialty: "Counseling Psychologist",
                    address: "321 Balance Lane",
                    phone: "(555) 234-5678",
                    distance: "3.0 miles away",
                    acceptsNewPatients: true,
                    rating: 4.7
                }
            ];

            // ML-like responses based on keywords (simplified for demo)
            const responseTemplates = {
                "depress": {
                    title: "Understanding Feelings of Depression",
                    response: "I hear that you're experiencing feelings of depression. This can feel incredibly heavy and isolating. Please know that what you're feeling is valid and you're not alone in this experience. Depression often distorts our thinking, making it hard to see hope in the moment.<br><br>Consider trying this small step: set a timer for 5 minutes and sit near a window, simply noticing the light and sounds around you. When ready, you might try writing down one small thing you'd like to accomplish today - even if it's just drinking a glass of water or sending a text to someone you trust.<br><br>Would you like me to suggest some local professionals or support groups that could help?",
                    icon: "fas fa-cloud"
                },
                "anxiet": {
                    title: "Managing Anxiety",
                    response: "Anxiety can feel like a storm inside your mind and body. Let's try a grounding technique together:<br><br>1. <strong>5 things you can see</strong> - Name them silently or aloud<br>2. <strong>4 things you can touch</strong> - Notice textures and temperatures<br>3. <strong>3 things you can hear</strong> - Even subtle sounds count<br>4. <strong>2 things you can smell</strong> - Or 2 scents you enjoy<br>5. <strong>1 thing you can taste</strong> - Maybe sip some water<br><br>This '54321' technique helps bring your awareness to the present moment. For ongoing anxiety, you might explore box breathing: inhale for 4 counts, hold for 4, exhale for 6, and repeat.",
                    icon: "fas fa-wind"
                },
                "stress": {
                    title: "Stress Management",
                    response: "Stress affects us all differently, and it sounds like you're carrying quite a load right now. Sometimes it helps to imagine your stress as objects in a backpack - what might you be able to set down, even temporarily?<br><br>Try this exercise: Make two lists - one for things within your control, and another for things outside your control. Focus your energy on the first list, and practice acknowledging then releasing the second. Even 2 minutes of stretching or humming a favorite song can interrupt the stress response.<br><br>Remember that sustained stress affects the body - hydration, movement, and rest are especially important during stressful periods.",
                    icon: "fas fa-weight"
                },
                "lonel": {
                    title: "Coping with Loneliness",
                    response: "Loneliness can feel particularly painful, even when surrounded by people. This feeling is more common than we often realize, though that doesn't make it any less difficult.<br><br>You might consider reaching out to community groups that share your interests - many have online options if leaving home feels challenging. Sometimes helping others (even small acts like complimenting a stranger online) can create meaningful connections. Pets, plants, or even watching live streams can provide comforting presence.<br><br>Would you like some suggestions for local meetups or online support groups that might help you feel more connected?",
                    icon: "fas fa-users"
                },
                "anger": {
                    title: "Working Through Anger",
                    response: "Anger is a natural emotion that signals something important to us - often a boundary crossed or need unmet. Before reacting, try this pause technique: Notice where you feel the anger in your body (tight chest? hot face?), take one deep breath, then ask yourself 'What need is beneath this anger?'<br><br>Physical activity like brisk walking or squeezing a stress ball can help release the energy of anger safely. Later, when calmer, you might explore how to address the underlying need or boundary violation in a constructive way.",
                    icon: "fas fa-fire"
                },
                "sleep": {
                    title: "Improving Sleep",
                    response: "Sleep difficulties can significantly impact our wellbeing. Consider establishing a 'wind-down' routine 30-60 minutes before bed: dim lights, limit screens, and engage in calming activities like reading or gentle stretching.<br><br>Try this technique: Imagine your body slowly relaxing from toes to head, noticing each area releasing tension as you exhale. Keep your sleep environment cool, dark, and quiet. If worries keep you awake, keep a notepad by bed to 'park' thoughts for tomorrow.<br><br>Consistent wake times (even on weekends) often help more than perfect bedtimes. Be patient - sleep improvements usually happen gradually.",
                    icon: "fas fa-moon"
                },
                "default": {
                    title: "Supportive Guidance",
                    response: "Thank you for sharing how you're feeling. It takes courage to reach out, even in this way. What you're experiencing matters, and there are people who want to support you.<br><br>Right now, you might try placing a hand on your heart and taking three slow breaths, acknowledging that you're doing your best in this moment. If you'd like to share more about what's troubling you, I can offer more specific suggestions. Remember that seeking help is a sign of strength, not weakness.",
                    icon: "fas fa-hands-helping"
                }
            };

            // Initialize the page with doctors
            displayDoctors();

            // Form submission handler
            mentalHealthForm.addEventListener('submit', function (e) {
                e.preventDefault();
                const question = userQuestion.value.trim();

                if (!question) {
                    alert("Please share how you're feeling");
                    return;
                }

                // Show loading indicator
                loadingIndicator.style.display = 'flex';
                responseArea.style.display = 'none';

                // Scroll to response area
                setTimeout(() => {
                    responseArea.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                }, 100);

                // Simulate ML processing delay
                setTimeout(function () {
                    processQuestion(question);
                    loadingIndicator.style.display = 'none';
                    responseArea.style.display = 'block';

                    // Smooth scroll to response
                    setTimeout(() => {
                        responseArea.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                    }, 100);
                }, 1800);
            });

            // Emergency contacts toggle
            emergencyBtn.addEventListener('click', function () {
                if (emergencyContacts.style.display === 'none') {
                    emergencyContacts.style.display = 'block';
                    emergencyBtn.innerHTML = '<i class="fas fa-phone-alt"></i> Hide Emergency Contacts';
                } else {
                    emergencyContacts.style.display = 'none';
                    emergencyBtn.innerHTML = '<i class="fas fa-phone-alt"></i> Show Emergency Contacts';
                }
            });

            // Refresh doctors list
            refreshDoctorsBtn.addEventListener('click', function () {
                // Simulate loading new data
                refreshDoctorsBtn.disabled = true;
                refreshDoctorsBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Loading...';

                // Clear current list
                doctorList.innerHTML = '<div class="loading" style="display: flex;"><div class="loading-spinner"></div><p>Finding local professionals...</p></div>';

                setTimeout(function () {
                    displayDoctors();
                    refreshDoctorsBtn.disabled = false;
                    refreshDoctorsBtn.innerHTML = '<i class="fas fa-sync-alt"></i> Refresh List';

                    // Smooth scroll to doctors
                    setTimeout(() => {
                        doctorList.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                    }, 100);
                }, 1500);
            });

            // Process the user's question and generate a response
            function processQuestion(question) {
                const lowerQuestion = question.toLowerCase();
                let responseKey = 'default';

                // Check for keywords to determine response
                const keywords = {
                    'depress': ['depress', 'sad', 'hopeless', 'empty', 'numb', 'worthless'],
                    'anxiet': ['anxiet', 'nervous', 'panic', 'overwhelm', 'fear', 'scare', 'worry'],
                    'stress': ['stress', 'pressure', 'burnout', 'overwork', 'tense'],
                    'lonel': ['lonel', 'isolat', 'alone', 'disconnect', 'abandon'],
                    'anger': ['anger', 'mad', 'frustrat', 'irritat', 'annoy', 'rage'],
                    'sleep': ['sleep', 'insomnia', 'tired', 'exhaust', 'fatigue', 'awake']
                };

                // Find the first matching keyword category
                for (const [key, terms] of Object.entries(keywords)) {
                    if (terms.some(term => lowerQuestion.includes(term))) {
                        responseKey = key;
                        break;
                    }
                }

                const response = responseTemplates[responseKey];

                // Display the response
                aiResponse.innerHTML = `
                    <div style="display: flex; align-items: center; margin-bottom: 15px;">
                        <i class="${response.icon}" style="font-size: 2rem; color: var(--accent); margin-right: 15px;"></i>
                        <h4 style="margin: 0; color: var(--primary-dark);">${response.title}</h4>
                    </div>
                    <div style="line-height: 1.7;">
                        ${response.response}
                    </div>
                    ${responseKey !== 'default' ? '<div style="margin-top: 20px; padding-top: 15px; border-top: 1px dashed rgba(0,0,0,0.1);"><p>Remember that persistent difficulties may benefit from professional support. Below you can find local mental health professionals.</p></div>' : ''}
                `;
            }

            // Display sample doctors
            function displayDoctors() {
                doctorList.innerHTML = '';

                if (sampleDoctors.length === 0) {
                    doctorList.innerHTML = '<p>No professionals found in your area. Try expanding your search radius.</p>';
                    return;
                }

                sampleDoctors.forEach(doctor => {
                    const doctorCard = document.createElement('div');
                    doctorCard.className = 'doctor-card';

                    // Generate star rating
                    const stars = '<span style="color: var(--warning);">' +
                        '<i class="fas fa-star"></i>'.repeat(Math.floor(doctor.rating)) +
                        (doctor.rating % 1 >= 0.5 ? '<i class="fas fa-star-half-alt"></i>' : '') +
                        '</span>' +
                        '<span style="color: var(--gray);"> (' + doctor.rating + ')</span>';

                    doctorCard.innerHTML = `
                        <h4>${doctor.name}</h4>
                        <p class="specialty">${doctor.specialty}</p>
                        ${stars}
                        <p><i class="fas fa-map-marker-alt" style="color: var(--accent);"></i> ${doctor.address}</p>
                        <p><i class="fas fa-phone" style="color: var(--accent);"></i> ${doctor.phone}</p>
                        <p class="distance"><i class="fas fa-route" style="color: var(--accent);"></i> ${doctor.distance}</p>
                        <div class="availability">
                            ${doctor.acceptsNewPatients ?
                            '<span style="color: var(--success);"><i class="fas fa-check-circle"></i> Accepting new patients</span>' :
                            '<span style="color: var(--danger);"><i class="fas fa-times-circle"></i> Not accepting new patients</span>'}
                            <button style="margin-left: auto; background: none; border: none; color: var(--primary); cursor: pointer;">
                                <i class="fas fa-calendar-plus"></i> Book
                            </button>
                        </div>
                    `;

                    doctorList.appendChild(doctorCard);
                });
            }
        });
    </script>
</body>

</html>